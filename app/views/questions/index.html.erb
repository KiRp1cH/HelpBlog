<% provide :page_title, 'Questions' %>
<% currently_at 'Questions' %>

<h1 class="mb-4"><%= t('questions.questions') %></h1>

<%= link_to t('questions.new_question'), new_question_path, class: 'btn btn-primary btn-lg mb-3' %>

<%== pagy_bootstrap_nav @pagy  %>

  <% @questions.each do |question| %>
    <article class="card mt-3">
      <div class="card-body">
        <h4><%= question.title %></h4>

        <section class="card-text">
          <time datetime="<%= question.formatted_created_at %>">
            <small><%= question.formatted_created_at %></small>
          </time>  

          <p class="my-2">
            <%= truncate strip_tags(question.body), length: 150, omission: '... (continued)' %>
          </p>
        </section>

        <%= link_to t('questions.show'), question_path(question), class: 'btn btn-primary' %>
        <%= link_to t('questions.edit'), edit_question_path(question), class: 'btn btn-secondary' %>
        <%= link_to t('questions.delete'), question_path(question), class: 'btn btn-danger', data: {method: :delete, confirm: t('warnings.are_you_sure')} %>
      
      </div>
    </article>
  <% end %>

<%== pagy_bootstrap_nav @pagy %>